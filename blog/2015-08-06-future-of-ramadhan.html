<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <title>Codeage</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" />

    <link href="/stylesheets/all.css" rel="stylesheet" type="text/css" />
  </head>
  <body>

    <div id="main" role="main">
      


<nav>
  <h1 class="blog-title"><a href="/">Codeage</a></h1>
  <p class="blog-description">
    Pardon my ramblings about code and such
  </p>
  <div class="blog-lang">
    <strong>English</strong> / <a href="/id">Bahasa</a>
  </div>
</nav>

      <p>Fasting in London during Ramadhan made me think about how long should other Muslims around the world fast. Motivated by my own curiosity, <a href="http://www.ikhsan.me/post/126462222797/the-future-of-ramadhan">I created a visualisation</a> to answer that question. READMORE</p>

<p>This also serves as an opportunity for me to practice Swift. Although using <a href="http://d3js.org">d3</a> might be the best way for data visualisation, just for the sake of having fun, why don&rsquo;t we use Swift instead.</p>

<h2>Data Collection</h2>

<h3>Ramadhan&rsquo;s Dates</h3>

<p>First thing that we need to know is the exact dates for future Ramadhan in 25 years time. This could be tackled with <code>NSCalendar</code> since the class acknowledges Islamic calendar. By composing dates using <code>NSDateComponents</code>, we could easily create Ramadhan dates for many years to come.</p>
<div class="highlight swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</pre></td><td class="code"><pre><span class="kd">extension</span> <span class="kt">NSDate</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">rmdn_ramadhanDaysForHijriYear</span><span class="p">(</span><span class="nv">year</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">NSDate</span><span class="p">]</span> <span class="p">{</span>
        <span class="n">guard</span> <span class="k">let</span> <span class="nv">hijriCalendar</span> <span class="o">=</span> <span class="kt">NSCalendar</span><span class="p">(</span><span class="nv">calendarIdentifier</span><span class="p">:</span> <span class="kt">NSCalendarIdentifierIslamic</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span>
          <span class="k">return</span> <span class="p">[]</span>
        <span class="p">}</span>

        <span class="k">let</span> <span class="nv">components</span> <span class="o">=</span> <span class="kt">NSDateComponents</span><span class="p">()</span>
        <span class="n">components</span><span class="o">.</span><span class="n">month</span> <span class="o">=</span> <span class="mi">9</span> <span class="c1">// Ramadhan is the 9th month in Islamic calendar</span>
        <span class="n">components</span><span class="o">.</span><span class="n">year</span> <span class="o">=</span> <span class="n">year</span>

        <span class="c1">// using flatMap instead of map to weed nil values,</span>
        <span class="c1">// because dateFromComponents returns an optional NSDate</span>
        <span class="nf">return</span> <span class="p">(</span><span class="mi">1</span><span class="o">..&lt;</span><span class="mi">30</span><span class="p">)</span><span class="o">.</span><span class="n">flatMap</span> <span class="p">{</span> <span class="n">day</span> <span class="k">in</span>
            <span class="n">components</span><span class="o">.</span><span class="n">day</span> <span class="o">=</span> <span class="n">day</span>
            <span class="k">return</span> <span class="n">hijriCalendar</span><span class="o">.</span><span class="nf">dateFromComponents</span><span class="p">(</span><span class="n">components</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table>
</div>

<h3>Location</h3>

<p>We need to know the exact coordinate for cities with only its name. Fortunately, <code>CoreLocation</code> has a function that transforms a <code>String</code> of city name into an object <code>CLPlacemark</code> (also know as <em>geocoding</em>).</p>
<div class="highlight swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7</pre></td><td class="code"><pre><span class="kt">CLGeocoder</span><span class="p">()</span><span class="o">.</span><span class="nf">geocodeAddressString</span><span class="p">(</span><span class="s">"London"</span><span class="p">)</span> <span class="p">{</span> <span class="n">p</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
    <span class="n">guard</span> <span class="k">let</span> <span class="nv">placemark</span> <span class="o">=</span> <span class="n">p</span><span class="p">?</span><span class="o">.</span><span class="n">first</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span>
    <span class="p">}</span>

    <span class="n">placemark</span> <span class="c1">// a CLPlacemark object containing London's location information</span>
<span class="p">}</span>
</pre></td></tr></tbody></table>
</div>

<h3>Prayer Time</h3>

<p>The first thought on finding prayer times is by using external APIs such as <a href="http://muslimsalat.com/api/">MuslimSalat</a> or <a href="http://xhanch.com/xhanch-api-islamic-get-prayer-time/">xchanch</a>. The disadvantage of this approach is once the API is inaccessible our visualisation will not work. Therefore, we need to minimise our application&rsquo;s dependency to other applications as much as we could.</p>

<p>I use an app called <a href="http://guidanceapp.com">Guidance</a> for checking prayer times everyday. Luckily, the module for the prayer times calculation is opened by its author. Using <a href="https://github.com/batoulapps/BAPrayerTimes"><code>BAPrayerTimes</code></a>, we can calculate prayer times without making any network calls.</p>
<div class="highlight swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre></td><td class="code"><pre><span class="kd">func</span> <span class="nf">prayerTimesForDate</span><span class="p">(</span><span class="nv">date</span><span class="p">:</span> <span class="kt">NSDate</span><span class="p">,</span> <span class="nv">placemark</span><span class="p">:</span> <span class="kt">CLPlacemark</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">BAPrayerTimes</span><span class="p">?</span> <span class="p">{</span>
    <span class="n">guard</span> <span class="k">let</span> <span class="nv">latitude</span> <span class="o">=</span> <span class="n">placemark</span><span class="o">.</span><span class="n">location</span><span class="p">?</span><span class="o">.</span><span class="n">coordinate</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span>
        <span class="k">let</span> <span class="nv">longitude</span> <span class="o">=</span> <span class="n">placemark</span><span class="o">.</span><span class="n">location</span><span class="p">?</span><span class="o">.</span><span class="n">coordinate</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
        <span class="k">let</span> <span class="nv">timeZone</span> <span class="o">=</span> <span class="n">placemark</span><span class="o">.</span><span class="n">timeZone</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">nil</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="kt">BAPrayerTimes</span><span class="p">(</span>
        <span class="nv">date</span><span class="p">:</span> <span class="n">date</span><span class="p">,</span>
        <span class="nv">latitude</span><span class="p">:</span> <span class="n">latitude</span><span class="p">,</span>
        <span class="nv">longitude</span><span class="p">:</span> <span class="n">longitude</span><span class="p">,</span>
        <span class="nv">timeZone</span><span class="p">:</span> <span class="n">timeZone</span><span class="p">,</span>
        <span class="nv">method</span><span class="p">:</span> <span class="kt">BAPrayerMethod</span><span class="o">.</span><span class="kt">MCW</span><span class="p">,</span>
        <span class="nv">madhab</span><span class="p">:</span> <span class="kt">BAPrayerMadhab</span><span class="o">.</span><span class="kt">Hanafi</span>
    <span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table>
</div>

<h3><code>RamadhanSummary</code></h3>

<p>After obtaining the necessary information, we could wrap one instance of Ramadhan as a struct named <a href="https://github.com/ikhsan/FutureOfRamadhan/blob/master/FutureRamadhans/DataCollection.swift#L6"><code>RamadhanSummary</code></a>.</p>

<h2>Data visualisation</h2>

<p>There is nothing special on visualising Ramadhan as a graphic. We only need simple Core Graphic calls to draw coloured bars in the right width and shape.</p>

<h3>Bar</h3>

<p>An instance of <code>RamadhanSummary</code> is mapped as a <code>UICollectionViewCell</code> inside <code>UICollectionView</code>. The width of the bar depends on its fasting duration of fasting, whereas the positioning depends on the start time and end time of fasting. Just by using the correct  scale, we could place and size the bar accordingly. We added ticks for every two hours to improve readability.</p>

<h3>Colour</h3>

<p>The colour of a bar also depends on its fasting duration, relative to the range of minimum and maximum duration from all Ramadhan in one place. Green (<code>rgb(46, 204, 113)</code>) for the shortest duration and orange (<code>rgb(243, 156, 18)</code>) for the longest.</p>

<p>We need two parameters to calculate the correct colour; the range of minimum and maximum fasting duration and a duration of a Ramadhan that we want to give a colour.</p>

<p>For example, London has a shortest duration of 14 hours and a longest duration of 20 hours. What colour should we chose for a 18 hours fasting duration of Ramadhan? To give a brief picture of what the question is, try to review the following sketch;</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5</pre></td><td class="code"><pre>duration  14 |------------[18]--------| 20

red      46  |------------[??]--------| 243
green    204 |------------[??]--------| 156
blue     113 |------------{??}--------| 18
</pre></td></tr></tbody></table>
</div>

<p>Below is how we calculate the colour in swift;</p>
<div class="highlight swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20</pre></td><td class="code"><pre><span class="kd">extension</span> <span class="kt">UIColor</span> <span class="p">{</span>
    <span class="kd">class</span> <span class="kd">func</span> <span class="nf">rmdn_colorForDuration</span><span class="p">(</span><span class="nv">duration</span><span class="p">:</span> <span class="kt">Double</span><span class="p">,</span> <span class="nv">range</span><span class="p">:</span> <span class="p">(</span><span class="nv">min</span><span class="p">:</span> <span class="kt">Double</span><span class="p">,</span> <span class="nv">max</span><span class="p">:</span> <span class="kt">Double</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="kt">UIColor</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">minColor</span><span class="p">:</span> <span class="p">(</span><span class="kt">Double</span><span class="p">,</span> <span class="kt">Double</span><span class="p">,</span> <span class="kt">Double</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">46</span><span class="p">,</span> <span class="mi">204</span><span class="p">,</span> <span class="mi">113</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">maxColor</span><span class="p">:</span> <span class="p">(</span><span class="kt">Double</span><span class="p">,</span> <span class="kt">Double</span><span class="p">,</span> <span class="kt">Double</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">243</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">r</span> <span class="o">=</span> <span class="n">minColor</span><span class="o">.</span><span class="mi">0</span> <span class="o">+</span> <span class="p">((</span><span class="n">maxColor</span><span class="o">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">minColor</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="p">((</span><span class="n">duration</span> <span class="o">-</span> <span class="n">range</span><span class="o">.</span><span class="n">min</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">range</span><span class="o">.</span><span class="n">max</span> <span class="o">-</span> <span class="n">range</span><span class="o">.</span><span class="n">min</span><span class="p">)))</span>
        <span class="k">let</span> <span class="nv">g</span> <span class="o">=</span> <span class="n">minColor</span><span class="o">.</span><span class="mi">1</span> <span class="o">+</span> <span class="p">((</span><span class="n">maxColor</span><span class="o">.</span><span class="mi">1</span> <span class="o">-</span> <span class="n">minColor</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">((</span><span class="n">duration</span> <span class="o">-</span> <span class="n">range</span><span class="o">.</span><span class="n">min</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">range</span><span class="o">.</span><span class="n">max</span> <span class="o">-</span> <span class="n">range</span><span class="o">.</span><span class="n">min</span><span class="p">)))</span>
        <span class="k">let</span> <span class="nv">b</span> <span class="o">=</span> <span class="n">minColor</span><span class="o">.</span><span class="mi">2</span> <span class="o">+</span> <span class="p">((</span><span class="n">maxColor</span><span class="o">.</span><span class="mi">2</span> <span class="o">-</span> <span class="n">minColor</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">((</span><span class="n">duration</span> <span class="o">-</span> <span class="n">range</span><span class="o">.</span><span class="n">min</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">range</span><span class="o">.</span><span class="n">max</span> <span class="o">-</span> <span class="n">range</span><span class="o">.</span><span class="n">min</span><span class="p">)))</span>

        <span class="k">return</span> <span class="kt">UIColor</span><span class="p">(</span>
            <span class="nv">colorLiteralRed</span><span class="p">:</span> <span class="kt">Float</span><span class="p">(</span><span class="n">r</span> <span class="o">/</span> <span class="mf">255.0</span><span class="p">),</span>
            <span class="nv">green</span><span class="p">:</span> <span class="kt">Float</span><span class="p">(</span><span class="n">g</span> <span class="o">/</span> <span class="mf">255.0</span><span class="p">),</span>
            <span class="nv">blue</span><span class="p">:</span> <span class="kt">Float</span><span class="p">(</span><span class="n">b</span> <span class="o">/</span> <span class="mf">255.0</span><span class="p">),</span>
            <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span>
        <span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// colour calculation</span>
<span class="k">let</span> <span class="nv">color</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="o">.</span><span class="nf">rmdn_colorForDuration</span><span class="p">(</span><span class="mf">18.0</span><span class="p">,</span> <span class="nv">range</span><span class="p">:(</span><span class="mf">14.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">))</span> <span class="c1">// rgb(177, 172, 49)</span>
</pre></td></tr></tbody></table>
</div>

<h3>Saving <code>UICollectionView</code> as an image</h3>

<p>After all the bar is placed and colored correctly, we need to convert all the bars as an image. We could transform a <code>UIView</code> as an image using Core Graphic&rsquo;s <code>UIGraphicsGetImageFromCurrentImageContext()</code>. But be aware that <a href="http://stackoverflow.com/questions/14376249/creating-a-uiimage-from-a-uitableview/14376719#14376719">we need to set its <code>frame</code> first as its <code>contentSize</code></a>, so that the whole <code>collectionView</code> is captured.</p>
<div class="highlight swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</pre></td><td class="code"><pre><span class="kd">extension</span> <span class="kt">UICollectionView</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">rmdn_takeSnapshot</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">UIImage</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">oldFrame</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">frame</span>

        <span class="k">var</span> <span class="nv">frame</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">frame</span>
        <span class="n">frame</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">contentSize</span><span class="o">.</span><span class="n">height</span> <span class="c1">// change before capturing the view</span>
        <span class="k">self</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span>

        <span class="kt">UIGraphicsBeginImageContextWithOptions</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="k">self</span><span class="o">.</span><span class="n">opaque</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">self</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="nf">renderInContext</span><span class="p">(</span><span class="kt">UIGraphicsGetCurrentContext</span><span class="p">())</span>
        <span class="k">let</span> <span class="nv">screenshot</span> <span class="o">=</span> <span class="kt">UIGraphicsGetImageFromCurrentImageContext</span><span class="p">()</span>
        <span class="kt">UIGraphicsEndImageContext</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">oldFrame</span> <span class="c1">// set the size back</span>

        <span class="k">return</span> <span class="n">screenshot</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table>
</div>

<p>After we got our collection view as an image, we save it in our document directory. The function returns a path to the image if saving is successful.</p>
<div class="highlight swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12</pre></td><td class="code"><pre><span class="kd">extension</span> <span class="kt">UIImage</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">rmdn_saveImageWithName</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="p">{</span>
        <span class="n">guard</span> <span class="k">let</span> <span class="nv">documentPath</span> <span class="o">=</span> <span class="kt">NSSearchPathForDirectoriesInDomains</span><span class="p">(</span><span class="kt">NSSearchPathDirectory</span><span class="o">.</span><span class="kt">DocumentDirectory</span><span class="p">,</span> <span class="kt">NSSearchPathDomainMask</span><span class="o">.</span><span class="kt">UserDomainMask</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">,</span>
            <span class="k">let</span> <span class="nv">image</span> <span class="o">=</span> <span class="kt">UIImagePNGRepresentation</span><span class="p">(</span><span class="k">self</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">return</span> <span class="s">""</span>
        <span class="p">}</span>

        <span class="k">let</span> <span class="nv">filepath</span> <span class="o">=</span> <span class="n">documentPath</span><span class="o">.</span><span class="nf">stringByAppendingPathComponent</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s">.png"</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">success</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="nf">writeToFile</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="nv">atomically</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">success</span> <span class="p">?</span> <span class="nv">filepath</span> <span class="p">:</span> <span class="s">""</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table>
</div>

<h2>Result</h2>

<p>Here are the visualisations of fasting duration during Ramadhan of <a href="/blog/2015-08-06-future-of-ramadhan/london.png">London</a>, <a href="/blog/2015-08-06-future-of-ramadhan/tokyo.png">Tokyo</a>, <a href="/blog/2015-08-06-future-of-ramadhan/reykjavik.png">Reykjavik</a> and <a href="/blog/2015-08-06-future-of-ramadhan/wellington.png">Wellington</a>.</p>

<p><img alt="Ramadhan around the world" src="/blog/2015-08-06-future-of-ramadhan/ramadhans.png" /></p>

<h2>Summary</h2>

<p>I really enjoyed using Swift as a data visualisation tool because there are many frameworks (either Apple&rsquo;s or 3rd party) that we could use. Features like <code>guard</code> or <code>collectionTypes</code>s functions made reading and writing code more joyful. To check the full source code, go to the <a href="https://github.com/ikhsan/FutureOfRamadhan">repository on github</a>.</p>

<p>In the future, it would be even cooler if we could run this code on playground or as a script. Currently, Core Location&rsquo;s geocoding in simulator behaves differently than in playground or script. Once this is resolved, we should be able to run the same code from terminal.</p>

<h2>Reference</h2>

<ul>
<li><a href="https://www.udacity.com/course/data-visualization-and-d3js--ud507">Data Visualization and D3.js Course</a> by Udacity</li>
<li><a href="https://github.com/batoulapps/BAPrayerTimes"><code>BAPrayerTimes</code></a> by Batoul Apps</li>
<li><a href="http://guidanceapp.com">Guidance for Mac and iOS</a> by Batoul Apps</li>
</ul>

      <footer>
  <div class="footer-blog">
    <p>
      I'm Ikhsan and this is my blog for my thoughts on codes and the likes. All other stuff are on my main blog, <a href="http://ikhsan.me">Lifeage</a>. Get in touch via Twitter <a href="http://twitter.com/ixnixnixn">@ixnixnixn</a> or email <a href="mailto:ikhsan.assaat@gmail.com">ikhsan.assaat@gmail.com</a>.
    </p>
  </div>

  <div class="footer-links">
  <ul>
    <li><a href="http://twitter.com/ixnixnixn">Twitter</a></li>
    <li><a href="http://github.com/ikhsan">Github</a></li>
    <li><a href="http://ikhsan.me">Lifeage</a></li>
  </ul>

  <div class="copyright">
    <p>&copy; Codage 2009â€“2015</p>
  </div>
</div>


</footer>

    </div>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-12712252-2', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>
