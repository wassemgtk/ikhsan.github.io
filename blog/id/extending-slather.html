<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <title>Codeage - Menambahkan Fitur Slather</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" />

    <link href="/stylesheets/all.css" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/syntax-highlights.css" rel="stylesheet" type="text/css" />
  </head>
  <body>


    <div id="main" role="main">
      


<nav>
  <h1 class="blog-title"><a href="/">Codeage</a></h1>
  <p class="blog-description">
    Pardon my ramblings about code and such
  </p>
  <div class="blog-lang">
    <a href="/blog/en/extending-slather.html">English</a> / <strong>Bahasa</strong>
  </div>
</nav>

      <article>
        <h1>Menambahkan Fitur Slather</h1>
        <p>Bulan lalu, saya mengunjungi kantor Facebook London untuk berpartisipasi dalam acaranya Cocoapods, <a href="http://blog.cocoapods.org/Test-Jammin/">Test Jam</a>. Inti acaranya adalah menambahkan test code ke pods yang sudah ada bersama-sama sebagai satu komunitas. Saat itulah saya mengenal yang namanya <strong>Slather</strong> untuk pertama kali. </p>

<p><a href="https://github.com/venmo/slather">Slather</a> adalah ruby gem yang menghasilkan laporan ulasan kode dari Xcode project dan mengintegrasikannya ke CI. Instalasinya cukup mudah, tinggal mengikuti <a href="https://github.com/venmo/slather#installation">pedoman</a> yang tersedia.</p>

<p>Setelah project terpasang dengan servis <em>code coverage</em> seperti <a href="https://coveralls.io">coveralls</a>, kita bisa meninjau hasil <em>coverage</em> kode melalui laman webnya. Dasbor coveralls memberikan informasi yang dibutuhkan; total persentase, table data dari tiap file dan kode yang bersangkutan.</p>

<p><img alt="Coveralls Report Table" src="/blog/2015-06-07-extending-slather/coveralls_1.png" /></p>

<h2>Penggunaan secara Lokal : Laporan HTML</h2>

<p>Seringkali, kita juga ingin mempunyai akses informasi yang sama dengan dasbor Coveralls tanpa harus update kode kita ke remote repository dan mengunjungi situsnya.</p>

<p>Dengan Slather, kita bisa mendapatkan informasi sederhana dengan <em>simple output mode</em> menggunakan <code>-s</code>. Tapi untuk saya, ini tidak memberikan detil yang cukup. Kita hanya mendapatkan persentase untuk tiap file, tapi tanpa informasi <strong>baris mana</strong> yang ter-<em>cover</em>. Saya tidak mau selalu update kode saya ke remote repository tiap kali ingin mengecek baris mana yang telah ter-<em>cover</em>.</p>

<p>Saya pikir, kenapa saya tidak tambahkan saja fitur ini ke Slather? Keren kan kalau bisa menghasilkan reports sebagai laman HTML statik. Menggunakan file HTML berarti kita tidak perlu konfigurasi tambahan, aplikasi lain atau bahkan koneksi internet. Hanya perlu browser saja dan bisa langsung pakai.</p>

<p>Langkah pertama adalah bagaimana cara menambahkan fitur. Dengan mencari <em>pull request</em> yang telah terintegrasi, kita dapat mempelajari bagaimana orang lain menambahkan fitur ke sebuah project. Saya menggunakan PR-nya <a href="(https://github.com/neonichu)">neonichu</a> saat dia menambahkan fitur <a href="https://github.com/venmo/slather/pull/24/files?diff=split">GutterJSON</a> sebagai panduan saya. Sedikit tips, adalah gunakan <em>file diffing</em>-nya Github untuk melihat jelas apa-apa saja yang ditambahkan.</p>

<p>Saya bukan desainer handal, jadi saya mengikuti saja apa yang sekiranya sudah terbukti. Slather sudah punya logo yang cakep, saya gunakan saja skema warnanya. Lalu saya jiplak plek-plek <em>styling</em>-nya Coveralls, termasuk desain tabel dan tampilan kodenya. Kredit untuk beberapa <em>library</em> yang saya gunakan, sorotan pada kode menggunakan <a href="https://highlightjs.org/"><code>highlight.js</code></a>, pengurutan dan filter menggunakan <a href="http://www.listjs.com/">list.js</a>.</p>

<p><img alt="Coveralls Report Table" src="/blog/2015-06-07-extending-slather/slather_html_1.png" />
<img alt="Coveralls Line Coverage" src="/blog/2015-06-07-extending-slather/slather_html_2.png" /></p>

<p>Untuk membangkitkan laporan html, gunakan opsi <code>--html</code>. Perintah ini akan menampilkan path dari laman indeks, tapi bisa juga gunakan opsi <code>--show</code> untuk membuka laporan secara otomatis di perambah.</p>
<div class="highlight shell"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="gp">$ </span>slather coverage --html --show path/to/project.xcodeproj
</pre></td></tr></tbody></table>
</div>

<h2>Kode telah terintegrasi ðŸŽ‰</h2>

<p>Sejujurnya, ini adalah pengalaman kali pertama dalam kontribusi open source yang terasa nyata. Respons dari lainnya sangat memotivasi dan hasilnya cukup membanggakan. Sangat diharapkan fitur ini akan digunakan banyak orang. Pembangkitan <a href="https://github.com/venmo/slather/pull/76">laporan HTML code coverage</a> sudah terintegrasi ke Slather 1.8. Asik dah.</p>

<h3>Update WWDC15 : Xcode 7 telah memiliki fitur code coverage</h3>

<p>Saat WWDC15 kemarin, Apple mengumumkan bahwa fitur <em>code coverage</em> telah tersedia di Xcode. Pemgembang dapat melihat di dalam aplikasi baris kode mana yang sudah ter-<em>cover</em>. Apakah ini berarti Slather dengan laporan HTML-nya sia-sia?</p>

<p>Pendapat saya laporan HTML tetap mempunyai keunggulannya tersendiri. HTML tidak tertempel pada Xcode, yang artinya laporan tersebut bisa dimacam-macamkan. Bisa digunakan untuk cek secara lokal tanpa internet, bisa diunggah di website, atau bisa juga ditempel di Jenkins. Masih banyak lah kemungkinan-kemungkinan lain yang bisa dieksplor dengan laporan HTML ini, jadi tentu saja masih punya nilainya tersendiri.</p>

        <div class="metadata">
          <div class="date">Jun. 7 2015</div>
          <div class="tag-list">
    <a class="tag" href="/blog/tags/ruby.html">ruby</a>
    <a class="tag" href="/blog/tags/slather.html">slather</a>
    <a class="tag" href="/blog/tags/objective-c.html">objective-c</a>
</div>

        </div>
      </article>

      
<div class="article-links">
  <div class="previous-link">
    <a href="/blog/id/booting-codeage.html">&larr; Menyalakan Codage</a>
  </div>

  <div class="next-link">
    <a href="/blog/id/fastlane-on-jenkins.html">Fastlane di Jenkins dan Permasalahannya &rarr;</a>
  </div>

</div>

      <footer>
  <div class="footer-blog">
    <p>
      Saya Ikhsan dan ini adalah blog saya tentang pemikiran seputar koding. Hal-hal selain kodingan saya tulis di blog utama, <a href="http://ikhsan.me">Lifeage</a>. Kontak saya via Twitter <a href="http://twitter.com/ixnixnixn">@ixnixnixn</a> atau langsung saja email di <a href="mailto:ikhsan.assaat@gmail.com">ikhsan.assaat@gmail.com</a>.
    </p>
  </div>

  <div class="footer-links">
  <ul>
    <li><a href="http://twitter.com/ixnixnixn">Twitter</a></li>
    <li><a href="http://github.com/ikhsan">Github</a></li>
    <li><a href="http://ikhsan.me">Lifeage</a></li>
  </ul>

  <div class="copyright">
    <p>&copy; Codage 2009â€“2015</p>
  </div>
</div>


</footer>

    </div>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-12712252-2', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>
